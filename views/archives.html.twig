{% extends 'layout.html.twig' %}

{% block keywords %}
    Notepad
{% endblock %}

{% block meta_tags %}{% endblock %}

{% block stylesheet_block %}{% endblock %}

{% block title %}
    {% trans %}home{% endtrans %}
{% endblock %}

{# All content block #}
{% block content %}
    <section class="row">
        <div class="col-md-10 col-sm-10 col-xs-10 col-md-offset-1 col-sm-offset-1 col-xs-offset-1">
            <h1>{% trans %}home{% endtrans %}</h1>

            {# Tab menu #}
            <ul class="nav nav-tabs nav-justified">
                {% for label in labels %}
                    {% if loop.first %}
                        <li class="active">
                    {% else %}
                        <li>
                    {% endif %}
                    <a href="#{{ label.title|lower|replace({' ' : '_'}) }}" data-toggle="tab">
                        {{ label.title|capitalize }}
                    </a>
                    </li>
                {% endfor %}
            </ul>

            {# Tab content #}
            <div id="ticket-tab-content" class="row tab-content">
                {# Loop on each labels present on the Notepad. #}
                {% for label in labels %}
                {% if loop.first %}
                <section class="tab-pane fade in active"
                         id="{{ label.title|lower|replace({' ' : '_'}) }}">
                    {% else %}
                    <section class="tab-pane fade in"
                             id="{{ label.title|lower|replace({' ' : '_'}) }}">
                        {% endif %}

                        {# Loop on each tickets present on Notepad #}
                        {% for ticket in tickets %}
                            {# If the current label is present on the ticket, #}
                            {% if label.title == ticket.label.title %}
                                {# add the ticket on block. #}
                                <article class="ticket col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                    <h2>
                                        {{ ticket.title }}
                                    </h2>
                                    <p>{{ ticket.content }}</p>
                                    <ul class="date-section list-inline list-unstyled">
                                        <li>
                                            {% trans %}release_date{% endtrans %}
                                            {{ ticket.releaseDate|date('d/m/Y') }}
                                        </li>
                                        <li>
                                            {% trans %}last_modified{% endtrans %}
                                            {{ ticket.lastModified|date('d/m/Y') }}
                                        </li>
                                    </ul>
                                </article>
                            {% endif %}
                        {% endfor %}
                    </section>
                    {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}
